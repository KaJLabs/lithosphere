# ============================================================================
# Lithosphere MAINNET Environment Configuration
# ============================================================================
# Source: Validator Infrastructure Team Handover (Feb 2026)
# ============================================================================
# SECURITY: Passwords marked <STRONG_PASSWORD> MUST be set via GitHub Secrets
# or a secrets manager — NEVER commit real credentials.
# ============================================================================

# ─────────────────────────────────────────────────────────────────────────────
# General
# ─────────────────────────────────────────────────────────────────────────────
NODE_ENV=production
ENVIRONMENT=mainnet
LOG_LEVEL=info

# ─────────────────────────────────────────────────────────────────────────────
# Chain Parameters (canonical — do not change)
# ─────────────────────────────────────────────────────────────────────────────
CHAIN_ID=lithosphere_777777-1
CHAIN_NAME=Lithosphere
LITHO_CHAIN_ID=777777
# Base denom: ulitho (18 decimals — 1 LITHO = 10^18 ulitho)

# ─────────────────────────────────────────────────────────────────────────────
# Live Network Endpoints — Public domains (TLS via Nginx on Sentry 1)
# ─────────────────────────────────────────────────────────────────────────────
# Cosmos RPC
RPC_URL=https://rpc.litho.ai
LITHO_RPC_URL=https://rpc.litho.ai
# Cosmos REST / LCD
LITHO_LCD_URL=https://api.litho.ai
# gRPC (direct to Sentry — no TLS proxy yet)
GRPC_URL=54.163.248.63:9090
# EVM JSON-RPC (via Network Load Balancer)
EVM_RPC_URL=http://litho-mainnet-rpc-nlb-90cbce98dabd2453.elb.us-east-1.amazonaws.com:8545
# EVM WebSocket
EVM_WS_URL=ws://54.163.248.63:8546
# Multi-endpoint failover (HTTPS primary, direct IP fallback)
RPC_ENDPOINTS=https://rpc.litho.ai,http://52.41.98.79:26657
GRPC_ENDPOINTS=54.163.248.63:9090,52.41.98.79:9090

# ─────────────────────────────────────────────────────────────────────────────
# Database (AWS RDS — NOT the local postgres container)
# Credentials managed via AWS Secrets Manager:
#   arn:aws:secretsmanager:us-east-1:261737251952:secret/litho-mainnet-rds-credentials
# ─────────────────────────────────────────────────────────────────────────────
POSTGRES_DB=lithoscan
POSTGRES_USER=lithoscan_admin
POSTGRES_PASSWORD=<FROM_AWS_SECRETS_MANAGER>
POSTGRES_PORT=5432
DATABASE_URL=postgresql://lithoscan_admin:<FROM_AWS_SECRETS_MANAGER>@<RDS_ENDPOINT>:5432/lithoscan

# ─────────────────────────────────────────────────────────────────────────────
# Redis
# ─────────────────────────────────────────────────────────────────────────────
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=<STRONG_PASSWORD>
REDIS_PORT=6379

# ─────────────────────────────────────────────────────────────────────────────
# API Service
# ─────────────────────────────────────────────────────────────────────────────
API_PORT=4000
API_HOST=0.0.0.0
GRAPHQL_PLAYGROUND=false
CORS_ORIGINS=https://makalu.litho.ai,https://status.litho.ai
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# ─────────────────────────────────────────────────────────────────────────────
# Indexer
# ─────────────────────────────────────────────────────────────────────────────
INDEXER_START_BLOCK=1
START_BLOCK=1
INDEXER_BATCH_SIZE=100
BATCH_SIZE=100
INDEXER_CONFIRMATIONS=12
INDEXER_POLL_INTERVAL=3000

# ─────────────────────────────────────────────────────────────────────────────
# Explorer Frontend
# ─────────────────────────────────────────────────────────────────────────────
EXPLORER_PORT=3000
NEXT_PUBLIC_API_URL=https://makalu.litho.ai/api
NEXT_PUBLIC_GRAPHQL_URL=https://makalu.litho.ai/api/graphql
NEXT_PUBLIC_RPC_URL=https://rpc.litho.ai
NEXT_PUBLIC_WS_URL=ws://54.163.248.63:8546
NEXT_PUBLIC_CHAIN_ID=lithosphere_777777-1
NEXT_PUBLIC_CHAIN_NAME=Lithosphere
NEXT_PUBLIC_SITE_URL=https://makalu.litho.ai
NEXT_PUBLIC_EXPLORER_TITLE=Lithosphere Explorer

# ─────────────────────────────────────────────────────────────────────────────
# Network Status / Health Monitor
# ─────────────────────────────────────────────────────────────────────────────
CHECK_INTERVAL=5000

# ─────────────────────────────────────────────────────────────────────────────
# Monitoring (Grafana on :3001 — port 3000 is reserved for explorer)
# ─────────────────────────────────────────────────────────────────────────────
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=<STRONG_PASSWORD>
PROMETHEUS_PORT=9091

# ─────────────────────────────────────────────────────────────────────────────
# Container Registry
# ─────────────────────────────────────────────────────────────────────────────
REGISTRY=ghcr.io
IMAGE_NAME=kajlabs/lithosphere
IMAGE_TAG=mainnet

# ─────────────────────────────────────────────────────────────────────────────
# Feature Flags
# ─────────────────────────────────────────────────────────────────────────────
CONTRACTS_ENABLED=false
MONITORING_ENABLED=true
PROXY_ENABLED=false
